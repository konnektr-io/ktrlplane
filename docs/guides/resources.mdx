---
title: Resource Management Guide
description: Comprehensive guide to creating, configuring, and managing resources in KtrlPlane
---

# Resource Management Guide

This comprehensive guide covers everything you need to know about managing resources in KtrlPlane, from initial deployment to optimization and troubleshooting.

## Creating Resources

For a detailed step-by-step walkthrough of the creation process, please refer to the **[Creating Resources](/guides/creating-resources)** guide.

## Secret Management

KtrlPlane employs a modern, secure approach to secret management that minimizes the need for handling long-lived static credentials.

### Federated Identity
For integrations with external services like Kafka or Azure Data Explorer, KtrlPlane utilizes **Federated Identity** (Workload Identity). This means you don't need to manually create or store secrets for these connections. Instead, you configure the connection details (like endpoints or cluster URIs), and authentication is handled securely and automatically via OAUTHBEARER tokens.

### Project Credentials (M2M)
For programmatic access to the KtrlPlane API (e.g., for CI/CD pipelines or external scripts), you should use **Service Accounts**.

1.  Navigate to your **Project Dashboard**.
2.  Locate the **API Authentication** card.
3.  You will see your **Client ID** and **Client Secret**.
4.  Use these credentials to obtain an access token via the standard OAuth2 Client Credentials flow.

<Callout type="warning">
  Store your Client Secret securely. It is only visible to Project Admins and allows full programmatic access to your project's resources.
</Callout>

For more details on using these credentials, see the [Service Accounts](/guides/service-accounts) guide.

## Managing Existing Resources

### Resource Dashboard

Your resource dashboard provides:

**Status Overview**
- Current operational status
- Health and performance metrics
- Recent activity and events
- Resource utilization

**Quick Actions**
- Access resource endpoints
- View configuration
- Update settings
- Scale resource
- Access logs

### Updating Resource Configuration

Most settings can be updated without recreating the resource:

1. Navigate to your resource
2. Click **"Settings"**
3. Modify the configuration
4. Click **"Save Changes"**
5. Monitor the update process

<Callout type="warning">
Some configuration changes may cause brief service interruptions. Plan updates during maintenance windows when possible.
</Callout>

### Scaling Resources

#### Manual Scaling
Adjust resource capacity based on current needs:

1. Go to resource settings
2. Find the scaling section
3. Adjust capacity limits or performance tiers
4. Apply changes

#### Auto-Scaling (Future Feature)
Automatic scaling based on resource metrics is planned for future releases. Currently, you can manually adjust resource configuration through the dashboard or API.

## Resource Integration

### Inter-Resource Communication

Resources within the same project can communicate using internal service discovery:

```javascript
// Graph to Flow integration
const flowClient = new FlowClient({
  endpoint: process.env.FLOW_INTERNAL_ENDPOINT,
  authentication: 'service_account'
});

// Assembler to Graph integration  
const graphClient = new GraphClient({
  endpoint: process.env.GRAPH_INTERNAL_ENDPOINT,
  authentication: 'service_account'
});
```

### External Integrations

Connect your resources to external services:

#### API Integration
```javascript
// Configure external API endpoint in resource settings
{
  "external_apis": {
    "weather_service": {
      "endpoint": "https://api.weather.com/v1",
      "authentication": "api_key",
      "rate_limit": 1000
    }
  }
}
```

#### Webhook Configuration
```json
{
  "webhooks": {
    "incoming": {
      "endpoint": "/webhooks/data-ingestion",
      "authentication": "hmac_sha256",
      "payload_validation": true
    },
    "outgoing": {
      "alerts": "https://your-system.com/alerts",
      "events": "https://your-system.com/events"
    }
  }
}
```

## Security and Access Control

### API Key Management

Each resource provides API keys for programmatic access:

1. Navigate to resource settings
2. Go to **"API Keys"** section
3. Click **"Generate New Key"**
4. Configure key permissions and expiration
5. Copy the key (it won't be shown again)

### Resource-Level Permissions

Control who can access and modify resources:

- **Viewer**: Read-only access to resource data and configuration
- **Editor**: Can modify configuration and manage the resource
- **Admin**: Full access including security settings and key management

### Network Security

Configure network access controls:

```json
{
  "network_security": {
    "ip_whitelist": [
      "192.168.1.0/24",
      "10.0.0.0/8"
    ],
    "enable_private_endpoints": true,
    "require_tls": true,
    "min_tls_version": "1.2"
  }
}
```

## Monitoring and Observability

### Built-in Monitoring

KtrlPlane provides comprehensive monitoring for all resources:

**Performance Metrics**
- Response time percentiles (p50, p95, p99)
- Request throughput and error rates
- Resource utilization (CPU, memory, storage)
- Custom business metrics

**Operational Metrics**
- Service availability and uptime
- Deployment and configuration changes
- Error patterns and trends
- Cost and billing information

### Custom Monitoring

Add custom metrics to your resources:

```javascript
// Graph resource custom metrics
const metrics = {
  nodes_created_per_minute: nodeCreationRate,
  query_complexity_average: averageQueryComplexity,
  relationship_depth_max: maxRelationshipDepth
};

await graphResource.recordMetrics(metrics);
```

### Alerting

Set up alerts for important events:

1. Go to resource monitoring
2. Click **"Create Alert"**
3. Choose alert conditions:
   - Performance thresholds
   - Error rate limits
   - Resource utilization
   - Cost thresholds
4. Configure notification channels (email, Slack, webhooks)
5. Save alert configuration

## Troubleshooting

### Common Issues and Solutions

#### High Response Times
**Symptoms**: Slow API responses, timeouts
**Solutions**:
- Scale up resource capacity
- Optimize queries or processing logic
- Enable caching
- Check for resource bottlenecks

#### Resource Unavailability
**Symptoms**: Service unreachable, connection errors
**Solutions**:
- Check resource status in dashboard
- Review recent configuration changes
- Verify network connectivity
- Check API key validity

#### High Costs
**Symptoms**: Unexpected billing increases
**Solutions**:
- Review resource utilization metrics
- Optimize resource configuration
- Implement auto-scaling policies
- Consider tier adjustments

### Diagnostic Tools

#### Resource Logs
Access detailed logs for troubleshooting:

```bash
# Using KtrlPlane CLI
ktrlplane logs --resource-id res-abc123 --follow

# Via API
curl -H "Authorization: Bearer $API_KEY" \
  https://ktrlplane.konnektr.io/v1/resources/res-abc123/logs
```

#### Health Checks
Monitor resource health:

```json
{
  "health_check": {
    "endpoint": "/health",
    "interval_seconds": 30,
    "timeout_seconds": 10,
    "healthy_threshold": 2,
    "unhealthy_threshold": 3
  }
}
```

## Best Practices

### Configuration Management
- **Use version control**: Track configuration changes
- **Environment consistency**: Use similar configs across environments
- **Gradual rollouts**: Test configuration changes in staging first
- **Backup configurations**: Keep copies of working configurations

### Performance Optimization
- **Right-sizing**: Choose appropriate resource sizes
- **Caching strategies**: Implement appropriate caching
- **Connection pooling**: Use connection pools for database resources
- **Batch processing**: Use batch operations where possible

### Security Practices
- **Rotate API keys**: Regularly rotate authentication keys
- **Principle of least privilege**: Grant minimum required permissions
- **Network segmentation**: Use private networks where possible
- **Audit logging**: Enable comprehensive audit logs

### Cost Management
- **Resource monitoring**: Regularly review resource usage
- **Auto-scaling**: Use auto-scaling to optimize costs
- **Cleanup unused resources**: Remove resources no longer needed
- **Tier optimization**: Regularly review and optimize tier selections

## Advanced Features

### Blue-Green Deployments
For critical resources, use blue-green deployment strategies:

1. Create a new resource with updated configuration
2. Test the new resource thoroughly
3. Gradually shift traffic from old to new resource
4. Remove the old resource once migration is complete

### Multi-Region Deployment
Deploy resources across multiple regions for high availability:

```json
{
  "deployment": {
    "strategy": "multi_region",
    "regions": ["us-east-1", "eu-west-1", "asia-southeast-1"],
    "replication": {
      "mode": "active_active",
      "consistency": "eventual"
    }
  }
}
```

### Disaster Recovery
Implement disaster recovery for critical resources:

```json
{
  "disaster_recovery": {
    "backup_frequency": "daily",
    "backup_retention": "30_days",
    "cross_region_backup": true,
    "automated_failover": {
      "enabled": true,
      "rto_minutes": 15,
      "rpo_minutes": 5
    }
  }
}
```

## Next Steps

Now that you understand resource management:

1. **[Explore API Integration](/api/resources)**: Learn how to integrate with your applications
2. **[Set Up Monitoring](/guides/monitoring)**: Implement comprehensive monitoring
3. **[Optimize Costs](/guides/billing)**: Learn advanced cost optimization strategies
4. **[Security Hardening](/guides/security)**: Implement enterprise security practices

<Callout type="success">
ðŸŽ‰ You're now equipped to effectively manage resources in KtrlPlane! Remember to start simple and gradually add complexity as your needs grow.
</Callout>